(function(){"use strict";var e={2321:function(e,a,l){var t=l(5130),u=l(6768);const o=(0,u.Lk)("div",null,".",-1);function s(e,a,l,t,s,n){const i=(0,u.g2)("NavBar"),r=(0,u.g2)("SideBar"),c=(0,u.g2)("router-view");return(0,u.uX)(),(0,u.CE)(u.FK,null,[(0,u.bF)(i,{onToggleSidebar:s.store.toggleSidebar},null,8,["onToggleSidebar"]),(0,u.bF)(r,{isSidebarOpen:s.store.isSidebarOpen,onCloseSidebar:s.store.closeSidebar},null,8,["isSidebarOpen","onCloseSidebar"]),o,(0,u.bF)(c)],64)}var n=l(6400),i=l(5860),r=l(7617);const c={apiKey:"AIzaSyBpfuM166XEp2mLXI2S8CV8C9InuTP_SXw",authDomain:"happinessapp1-ea443.firebaseapp.com",projectId:"happinessapp1-ea443",storageBucket:"happinessapp1-ea443.appspot.com",messagingSenderId:"522038902274",appId:"1:522038902274:web:9f6640657287090286f11b"},d=(0,n.Wp)(c),v=(0,i.xI)(d),p=(0,r.aU)(d);var k=l(144);const m=(0,k.Kh)({isAuthenticated:"true"===localStorage.getItem("isAuthenticated"),userRole:localStorage.getItem("userRole")||"",isSidebarOpen:!1});function y(e){m.isAuthenticated=!0,m.userRole=e,localStorage.setItem("isAuthenticated","true"),localStorage.setItem("userRole",e)}function h(){m.isAuthenticated=!1,m.userRole="",m.isSidebarOpen=!1,localStorage.removeItem("isAuthenticated"),localStorage.removeItem("userRole")}function b(){m.isSidebarOpen=!m.isSidebarOpen}function g(){m.isSidebarOpen=!1}l(4114);var f=l(4232),L=l(1387);const C=e=>((0,u.Qi)("data-v-00a21c8c"),e=e(),(0,u.jt)(),e),_=C((()=>(0,u.Lk)("li",null,"Home",-1))),X=C((()=>(0,u.Lk)("li",null,"SignUp",-1))),E=C((()=>(0,u.Lk)("li",null,"LogIn",-1))),R=C((()=>(0,u.Lk)("li",null,"Dashboard",-1))),A=C((()=>(0,u.Lk)("li",null,"Dashboard",-1))),I=C((()=>(0,u.Lk)("li",null,"Dashboard",-1))),w=C((()=>(0,u.Lk)("li",null,"About",-1)));var K={__name:"SideBar",setup(e){const a=(0,L.rd)(),l=()=>{g()},t=async()=>{try{await(0,i.CI)(v),h(),a.push("/login")}catch(e){console.error("Logout error:",e)}};return(e,a)=>{const o=(0,u.g2)("router-link");return(0,u.uX)(),(0,u.CE)("div",{class:(0,f.C4)(["container noselect",{"sidebar-open":(0,k.R1)(m).isSidebarOpen}])},[(0,u.Lk)("ul",{onClick:l},[(0,u.bF)(o,{to:"/"},{default:(0,u.k6)((()=>[_])),_:1}),(0,k.R1)(m).isAuthenticated?(0,u.Q3)("",!0):((0,u.uX)(),(0,u.Wv)(o,{key:0,to:"/signup"},{default:(0,u.k6)((()=>[X])),_:1})),(0,k.R1)(m).isAuthenticated?(0,u.Q3)("",!0):((0,u.uX)(),(0,u.Wv)(o,{key:1,to:"/login"},{default:(0,u.k6)((()=>[E])),_:1})),(0,k.R1)(m).isAuthenticated?((0,u.uX)(),(0,u.CE)(u.FK,{key:2},["admin"===(0,k.R1)(m).userRole?((0,u.uX)(),(0,u.Wv)(o,{key:0,to:"/admin"},{default:(0,u.k6)((()=>[R])),_:1})):(0,u.Q3)("",!0),"teacher"===(0,k.R1)(m).userRole?((0,u.uX)(),(0,u.Wv)(o,{key:1,to:"/teacher"},{default:(0,u.k6)((()=>[A])),_:1})):(0,u.Q3)("",!0),"user"===(0,k.R1)(m).userRole?((0,u.uX)(),(0,u.Wv)(o,{key:2,to:"/user"},{default:(0,u.k6)((()=>[I])),_:1})):(0,u.Q3)("",!0),(0,u.Lk)("li",{onClick:t},"Log Out")],64)):(0,u.Q3)("",!0),(0,u.bF)(o,{to:"/about"},{default:(0,u.k6)((()=>[w])),_:1})])],2)}}},S=l(1241);const D=(0,S.A)(K,[["__scopeId","data-v-00a21c8c"]]);var Q=D;const F=e=>((0,u.Qi)("data-v-4d6e0d6e"),e=e(),(0,u.jt)(),e),x={class:"container noselect"},U={class:"lefters"},J=F((()=>(0,u.Lk)("li",{class:"nblog"},"LogIn",-1))),O=F((()=>(0,u.Lk)("li",{class:"nblog"},"SignUp",-1))),W={key:1,class:"nblog"};var N={__name:"NavBar",setup(e){const a=()=>{b()};return(e,l)=>{const t=(0,u.g2)("router-link");return(0,u.uX)(),(0,u.CE)("div",x,[(0,u.Lk)("ul",null,[(0,u.Lk)("div",U,[(0,u.Lk)("button",{class:"button-5",onClick:a},"â‰¡"),(0,u.bF)(t,{to:"/"},{default:(0,u.k6)((()=>[(0,u.Lk)("li",{class:"nbMain",onClick:l[0]||(l[0]=(...e)=>(0,k.R1)(g)&&(0,k.R1)(g)(...e))},"Happiness Connect")])),_:1})]),(0,u.Lk)("div",{class:"logers",onClick:l[1]||(l[1]=(...e)=>(0,k.R1)(g)&&(0,k.R1)(g)(...e))},[(0,k.R1)(m).isAuthenticated?((0,u.uX)(),(0,u.CE)("li",W,(0,f.v_)((0,k.R1)(m).userRole),1)):((0,u.uX)(),(0,u.CE)(u.FK,{key:0},[(0,u.bF)(t,{to:"/login"},{default:(0,u.k6)((()=>[J])),_:1}),(0,u.bF)(t,{to:"/signup"},{default:(0,u.k6)((()=>[O])),_:1})],64))])])])}}};const j=(0,S.A)(N,[["__scopeId","data-v-4d6e0d6e"]]);var P=j,T={name:"App",components:{SideBar:Q,NavBar:P},data(){return{store:m}},methods:{async checkUserRole(e){const a=query(collection(db,"admins"),where("uid","==",e)),l=await getDocs(a);if(!l.empty)return"admin";const t=query(collection(db,"teachers"),where("uid","==",e)),u=await getDocs(t);if(!u.empty)return"teacher";const o=query(collection(db,"users"),where("uid","==",e)),s=await getDocs(o);return s.empty?"":"user"}},onMounted(){(0,i.hg)(v,(async e=>{if(e){const a=await this.checkUserRole(e.uid);a?y(a):h()}else h()}))}};const G=(0,S.A)(T,[["render",s]]);var V=G,H=l.p+"img/AOLlogo.25bbbc13.jpg";const B=(0,u.Lk)("div",{style:{"margin-top":"100px"}},null,-1),M={class:"home"},q=(0,u.Lk)("img",{alt:"Art Of Living Logo",style:{width:"300px"},src:H},null,-1);function $(e,a,l,t,o,s){const n=(0,u.g2)("HelloWorld");return(0,u.uX)(),(0,u.CE)(u.FK,null,[B,(0,u.Lk)("div",M,[q,(0,u.bF)(n,{msg:"Welcome to Happiness Connect"})])],64)}const z={class:"hello"};function Y(e,a,l,t,o,s){return(0,u.uX)(),(0,u.CE)("div",z,[(0,u.Lk)("h1",null,(0,f.v_)(l.msg),1)])}var Z={name:"HelloWorld",props:{msg:String}};const ee=(0,S.A)(Z,[["render",Y],["__scopeId","data-v-28b57ee4"]]);var ae=ee,le={name:"HomeView",components:{HelloWorld:ae}};const te=(0,S.A)(le,[["render",$]]);var ue=te;const oe={class:"about",style:{"margin-top":"100px"}},se=(0,u.Lk)("h1",null,"This is an about page",-1),ne=[se];function ie(e,a){return(0,u.uX)(),(0,u.CE)("div",oe,ne)}const re={},ce=(0,S.A)(re,[["render",ie]]);var de=ce;const ve=e=>((0,u.Qi)("data-v-00685f6c"),e=e(),(0,u.jt)(),e),pe={class:"container"},ke=ve((()=>(0,u.Lk)("h3",{class:"signup"},"Sign Up",-1))),me={class:"form-group"},ye={key:0},he={class:"checkbox-wrapper-64"},be={class:"switch"},ge=ve((()=>(0,u.Lk)("span",{class:"slider"},null,-1))),fe=ve((()=>(0,u.Lk)("label",{class:"checkL",style:{"font-size":"medium"}},"Are you an AOL Teacher ?",-1))),Le=["disabled"],Ce={key:0},_e={key:1},Xe={key:1,class:"error-message"};var Ee={__name:"Signup",setup(e){const a=(0,k.KR)(!1),l=(0,k.KR)(""),o=(0,k.KR)(""),s=(0,k.KR)(""),n=(0,k.KR)(""),c=(0,k.KR)(""),d=(0,k.KR)(!1),m=(0,L.rd)(),y=async()=>{c.value="",d.value=!0;try{const e=await(0,i.eJ)(v,o.value,s.value);console.log("User signed up:",e.user);const t=e.user;a.value?await(0,r.gS)((0,r.rJ)(p,"teachers"),{uid:t.uid,name:l.value,email:o.value,teacherAccess:!1}):await(0,r.gS)((0,r.rJ)(p,"users"),{uid:t.uid,name:l.value,email:o.value,courseId:[n.value],volunteerAccess:!1}),m.push("/login")}catch(e){c.value=e.message}finally{d.value=!1}};return(e,i)=>((0,u.uX)(),(0,u.CE)("div",null,[(0,u.Lk)("div",pe,[ke,(0,u.Lk)("div",me,[(0,u.bo)((0,u.Lk)("input",{type:"text",class:"form-control",id:"name","aria-describedby":"emailHelp",placeholder:"Full Name","onUpdate:modelValue":i[0]||(i[0]=e=>l.value=e)},null,512),[[t.Jo,l.value]]),(0,u.bo)((0,u.Lk)("input",{type:"email",class:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Email","onUpdate:modelValue":i[1]||(i[1]=e=>o.value=e)},null,512),[[t.Jo,o.value]]),(0,u.bo)((0,u.Lk)("input",{type:"password",class:"form-control",id:"password","aria-describedby":"emailHelp",placeholder:"Password","onUpdate:modelValue":i[2]||(i[2]=e=>s.value=e)},null,512),[[t.Jo,s.value]]),a.value?(0,u.Q3)("",!0):((0,u.uX)(),(0,u.CE)("div",ye,[(0,u.bo)((0,u.Lk)("input",{type:"text",class:"form-control",id:"courseId",placeholder:"CourseID","onUpdate:modelValue":i[3]||(i[3]=e=>n.value=e)},null,512),[[t.Jo,n.value]])])),(0,u.Lk)("div",he,[(0,u.Lk)("label",be,[(0,u.bo)((0,u.Lk)("input",{type:"checkbox","onUpdate:modelValue":i[4]||(i[4]=e=>a.value=e)},null,512),[[t.lH,a.value]]),ge]),fe]),(0,u.Lk)("button",{type:"button",class:"btn-primary",onClick:y,disabled:d.value},[d.value?((0,u.uX)(),(0,u.CE)("span",Ce,"Signing Up...")):((0,u.uX)(),(0,u.CE)("span",_e,"Sign Up"))],8,Le),c.value?((0,u.uX)(),(0,u.CE)("div",Xe,(0,f.v_)(c.value),1)):(0,u.Q3)("",!0)])])]))}};const Re=(0,S.A)(Ee,[["__scopeId","data-v-00685f6c"]]);var Ae=Re;const Ie=e=>((0,u.Qi)("data-v-39ab1dcd"),e=e(),(0,u.jt)(),e),we={class:"container"},Ke=Ie((()=>(0,u.Lk)("h3",{class:"signup"},"Login",-1))),Se={class:"form-group"},De=["disabled"],Qe={key:0},Fe={key:1},xe={key:0,class:"error-message"};var Ue={__name:"Login",setup(e){const a=(0,k.KR)(""),l=(0,k.KR)(""),o=(0,k.KR)(""),s=(0,k.KR)(!1),n=(0,L.rd)(),c=async()=>{o.value="",s.value=!0;try{const e=await(0,i.x9)(v,a.value,l.value),t=e.user;console.log("User logged in:",t.uid);const u=(0,r.P)((0,r.rJ)(p,"admins"),(0,r._M)("uid","==",t.uid)),o=await(0,r.GG)(u),s=!o.empty;console.log("Admin doc exists:",s);const c=(0,r.P)((0,r.rJ)(p,"teachers"),(0,r._M)("uid","==",t.uid)),d=await(0,r.GG)(c),k=!d.empty,m=!!k&&d.docs[0].data().teacherAccess;console.log("Teacher doc exists:",k),console.log("Teacher access:",m);const h=(0,r.P)((0,r.rJ)(p,"users"),(0,r._M)("uid","==",t.uid)),b=await(0,r.GG)(h),g=!b.empty;if(console.log("User doc exists:",g),s)y("admin"),n.push("/admin");else if(k&&m)y("teacher"),n.push("/teacher");else{if(!g)throw new Error("No valid user role found");y("user"),n.push("/user")}}catch(e){o.value=e.message,console.error("Login error:",e)}finally{s.value=!1}};return(e,n)=>((0,u.uX)(),(0,u.CE)("div",null,[(0,u.Lk)("div",we,[Ke,(0,u.Lk)("div",Se,[(0,u.bo)((0,u.Lk)("input",{type:"email",class:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Email","onUpdate:modelValue":n[0]||(n[0]=e=>a.value=e)},null,512),[[t.Jo,a.value]]),(0,u.bo)((0,u.Lk)("input",{type:"password",class:"form-control",id:"password","aria-describedby":"emailHelp",placeholder:"Password","onUpdate:modelValue":n[1]||(n[1]=e=>l.value=e)},null,512),[[t.Jo,l.value]]),(0,u.Lk)("button",{type:"button",class:"btn-primary",onClick:c,disabled:s.value},[s.value?((0,u.uX)(),(0,u.CE)("span",Qe,"Logging In...")):((0,u.uX)(),(0,u.CE)("span",Fe,"Login"))],8,De),o.value?((0,u.uX)(),(0,u.CE)("div",xe,(0,f.v_)(o.value),1)):(0,u.Q3)("",!0)])])]))}};const Je=(0,S.A)(Ue,[["__scopeId","data-v-39ab1dcd"]]);var Oe=Je;const We=e=>((0,u.Qi)("data-v-211e142e"),e=e(),(0,u.jt)(),e),Ne={class:"add-activity-panel"},je=We((()=>(0,u.Lk)("h2",null,"Create New Activity",-1))),Pe={class:"form-group"},Te=We((()=>(0,u.Lk)("label",{for:"activityName"},"Activity Name",-1))),Ge={class:"form-group"},Ve=We((()=>(0,u.Lk)("label",{for:"activityDescription"},"Description",-1))),He={class:"form-group"},Be=We((()=>(0,u.Lk)("label",{for:"activityDay"},"Day",-1))),Me=["disabled"],qe={key:0,class:"error-message"};var $e={__name:"AddActivityPanel",props:{course:Object},emits:["close"],setup(e,{emit:a}){const l=e,o=a,s=(0,k.KR)(""),n=(0,k.KR)(""),i=(0,k.KR)(""),c=(0,k.KR)(""),d=(0,k.KR)(!1),v=async()=>{if(s.value&&n.value&&i.value){d.value=!0,c.value="";try{const e=(0,r.rJ)(p,"activities"),a=(0,r.P)(e,(0,r._M)("courseID","==",l.course.courseID)),t=await(0,r.GG)(a),u=t.docs.map((e=>e.data().activityID));let c=0;u.forEach((e=>{const a=e.split("-"),l=parseInt(a[1],10);l>c&&(c=l)}));const d=`${l.course.courseID}-${String(c+1).padStart(2,"0")}`;await(0,r.gS)(e,{courseID:l.course.courseID,name:s.value,description:n.value,day:i.value,activityID:d,createdAt:new Date}),o("close")}catch(e){c.value="Failed to create activity"}finally{d.value=!1}}else c.value="All fields are required"};return(e,a)=>((0,u.uX)(),(0,u.CE)("div",Ne,[(0,u.Lk)("button",{onClick:a[0]||(a[0]=a=>e.$emit("close")),class:"close-button"},"X"),je,(0,u.Lk)("div",Pe,[Te,(0,u.bo)((0,u.Lk)("input",{id:"activityName","onUpdate:modelValue":a[1]||(a[1]=e=>s.value=e),type:"text"},null,512),[[t.Jo,s.value]])]),(0,u.Lk)("div",Ge,[Ve,(0,u.bo)((0,u.Lk)("textarea",{id:"activityDescription","onUpdate:modelValue":a[2]||(a[2]=e=>n.value=e)},null,512),[[t.Jo,n.value]])]),(0,u.Lk)("div",He,[Be,(0,u.bo)((0,u.Lk)("input",{id:"activityDay","onUpdate:modelValue":a[3]||(a[3]=e=>i.value=e),type:"text"},null,512),[[t.Jo,i.value]])]),(0,u.Lk)("button",{onClick:v,disabled:d.value},"Create",8,Me),c.value?((0,u.uX)(),(0,u.CE)("div",qe,(0,f.v_)(c.value),1)):(0,u.Q3)("",!0)]))}};const ze=(0,S.A)($e,[["__scopeId","data-v-211e142e"]]);var Ye=ze;const Ze=e=>((0,u.Qi)("data-v-7c2b9fcf"),e=e(),(0,u.jt)(),e),ea={class:"course-panel"},aa=Ze((()=>(0,u.Lk)("h2",null,"Course Details",-1))),la=Ze((()=>(0,u.Lk)("strong",null,"Course Name:",-1))),ta=Ze((()=>(0,u.Lk)("strong",null,"Duration:",-1))),ua=Ze((()=>(0,u.Lk)("strong",null,"Timing:",-1))),oa=Ze((()=>(0,u.Lk)("h3",null,"Teachers",-1))),sa={key:0},na=Ze((()=>(0,u.Lk)("h3",null,"Activities",-1))),ia={class:"activityList"},ra=["onClick"],ca={key:0},da={key:0,class:"add-activity-panel-overlay"};var va={__name:"CoursePanel",props:{course:Object,teachers:Array},emits:["close","select-activity"],setup(e,{emit:a}){const l=e,t=a,o=(0,k.KR)([]),s=(0,k.KR)([]),n=(0,k.KR)(null),i=(0,k.KR)(!1),c=async()=>{if(l.course&&l.course.courseID){const e=(0,r.P)((0,r.rJ)(p,"activities"),(0,r._M)("courseID","==",l.course.courseID)),a=await(0,r.GG)(e);s.value=a.docs.map((e=>e.data()))}else s.value=[]};(0,u.wB)((()=>l.course),(e=>{e&&l.teachers&&(o.value=l.teachers.filter((a=>e.teacherIDs.includes(a.uid))),c())}));const d=e=>{n.value=e,t("select-activity",e)},v=()=>{i.value=!0},m=()=>{i.value=!1};return(a,l)=>((0,u.uX)(),(0,u.CE)("div",ea,[(0,u.Lk)("button",{onClick:l[0]||(l[0]=e=>a.$emit("close")),class:"close-button"},"X"),(0,u.Lk)("button",{onClick:v,class:"create-button"},"Create Activity"),aa,(0,u.Lk)("p",null,[la,(0,u.eW)(" "+(0,f.v_)(e.course.courseName),1)]),(0,u.Lk)("p",null,[ta,(0,u.eW)(" "+(0,f.v_)(e.course.duration),1)]),(0,u.Lk)("p",null,[ua,(0,u.eW)(" "+(0,f.v_)(e.course.timing),1)]),oa,(0,u.Lk)("ul",null,[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(o.value,(e=>((0,u.uX)(),(0,u.CE)("li",{key:e.uid},(0,f.v_)(e.name)+" - "+(0,f.v_)(e.email),1)))),128)),0===o.value.length?((0,u.uX)(),(0,u.CE)("li",sa,"No Teachers Found")):(0,u.Q3)("",!0)]),na,(0,u.Lk)("ul",ia,[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(s.value,(e=>((0,u.uX)(),(0,u.CE)("li",{key:e.activityID,onClick:a=>d(e)}," Day "+(0,f.v_)(e.day)+" : "+(0,f.v_)(e.name),9,ra)))),128)),0===s.value.length?((0,u.uX)(),(0,u.CE)("li",ca,"No activities found for this course.")):(0,u.Q3)("",!0)]),i.value?((0,u.uX)(),(0,u.CE)("div",da,[i.value?((0,u.uX)(),(0,u.Wv)(Ye,{key:0,onClose:m,course:e.course},null,8,["course"])):(0,u.Q3)("",!0)])):(0,u.Q3)("",!0)]))}};const pa=(0,S.A)(va,[["__scopeId","data-v-7c2b9fcf"]]);var ka=pa;const ma=e=>((0,u.Qi)("data-v-051dcb76"),e=e(),(0,u.jt)(),e),ya={class:"add-course-panel"},ha=ma((()=>(0,u.Lk)("h2",null,"Create Course",-1))),ba={class:"form-group"},ga=ma((()=>(0,u.Lk)("label",{for:"courseName"},"Course Name",-1))),fa={class:"form-group"},La=ma((()=>(0,u.Lk)("label",{for:"duration"},"Dates(from/to) & Year",-1))),Ca={class:"form-group"},_a=ma((()=>(0,u.Lk)("label",{for:"timing"},"Timings",-1))),Xa={class:"form-group"},Ea=ma((()=>(0,u.Lk)("label",{for:"teacherIDs"},"Teacher IDs",-1))),Ra=["onUpdate:modelValue"],Aa=["onClick"],Ia={key:0,class:"error-message"},wa={key:1,class:"success-message"};var Ka={__name:"AddCoursePanel",setup(e){const a=(0,k.KR)(""),l=(0,k.KR)(""),o=(0,k.KR)(""),s=(0,k.KR)([""]),n=(0,k.KR)(""),i=(0,k.KR)(""),c=()=>{s.value.push("")},d=e=>{s.value.splice(e,1)},v=()=>{a.value="",l.value="",o.value="",s.value=[""]},m=async()=>{if(a.value&&l.value&&o.value)try{const e={courseName:a.value,duration:l.value,timing:o.value,teacherIDs:s.value.filter((e=>e))};await(0,r.gS)((0,r.rJ)(p,"courses"),e),i.value="Course added successfully!",v()}catch(e){n.value="Failed to add course.",console.error("Error adding course:",e)}else n.value="Please fill out all required fields."};return(e,r)=>((0,u.uX)(),(0,u.CE)("div",ya,[(0,u.Lk)("button",{onClick:r[0]||(r[0]=a=>e.$emit("close")),class:"close-button"},"X"),ha,(0,u.Lk)("div",ba,[ga,(0,u.bo)((0,u.Lk)("input",{type:"text","onUpdate:modelValue":r[1]||(r[1]=e=>a.value=e),id:"courseName"},null,512),[[t.Jo,a.value]])]),(0,u.Lk)("div",fa,[La,(0,u.bo)((0,u.Lk)("input",{type:"text","onUpdate:modelValue":r[2]||(r[2]=e=>l.value=e),id:"duration"},null,512),[[t.Jo,l.value]])]),(0,u.Lk)("div",Ca,[_a,(0,u.bo)((0,u.Lk)("input",{type:"text","onUpdate:modelValue":r[3]||(r[3]=e=>o.value=e),id:"timing"},null,512),[[t.Jo,o.value]])]),(0,u.Lk)("div",Xa,[Ea,((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(s.value,((e,a)=>((0,u.uX)(),(0,u.CE)("div",{key:a,class:"teacher-id-group"},[(0,u.bo)((0,u.Lk)("input",{type:"text","onUpdate:modelValue":e=>s.value[a]=e},null,8,Ra),[[t.Jo,s.value[a]]]),s.value.length>1?((0,u.uX)(),(0,u.CE)("button",{key:0,onClick:e=>d(a),class:"removebtn"},"-",8,Aa)):(0,u.Q3)("",!0)])))),128)),(0,u.Lk)("button",{onClick:c,class:"addteachbtn"},"Add Another Teacher")]),n.value?((0,u.uX)(),(0,u.CE)("div",Ia,(0,f.v_)(n.value),1)):(0,u.Q3)("",!0),i.value?((0,u.uX)(),(0,u.CE)("div",wa,(0,f.v_)(i.value),1)):(0,u.Q3)("",!0),(0,u.Lk)("button",{onClick:m,class:"submitbtn"},"Submit")]))}};const Sa=(0,S.A)(Ka,[["__scopeId","data-v-051dcb76"]]);var Da=Sa;const Qa=e=>((0,u.Qi)("data-v-7fa35308"),e=e(),(0,u.jt)(),e),Fa={class:"activity-panel"},xa=Qa((()=>(0,u.Lk)("h2",null,"Activity Details",-1))),Ua=Qa((()=>(0,u.Lk)("strong",null,"Day:",-1))),Ja=Qa((()=>(0,u.Lk)("strong",null,"Name:",-1))),Oa=Qa((()=>(0,u.Lk)("strong",null,"Description:",-1))),Wa=Qa((()=>(0,u.Lk)("strong",null,"Activity ID:",-1))),Na=Qa((()=>(0,u.Lk)("strong",null,"Course ID:",-1)));var ja={__name:"ActivityPanel",props:{activity:Object},setup(e){return(a,l)=>((0,u.uX)(),(0,u.CE)("div",Fa,[(0,u.Lk)("button",{onClick:l[0]||(l[0]=e=>a.$emit("close")),class:"close-button"},"X"),xa,(0,u.Lk)("p",null,[Ua,(0,u.eW)(" "+(0,f.v_)(e.activity.day),1)]),(0,u.Lk)("p",null,[Ja,(0,u.eW)(" "+(0,f.v_)(e.activity.name),1)]),(0,u.Lk)("p",null,[Oa,(0,u.eW)(" "+(0,f.v_)(e.activity.description),1)]),(0,u.Lk)("p",null,[Wa,(0,u.eW)(" "+(0,f.v_)(e.activity.activityID),1)]),(0,u.Lk)("p",null,[Na,(0,u.eW)(" "+(0,f.v_)(e.activity.courseID),1)])]))}};const Pa=(0,S.A)(ja,[["__scopeId","data-v-7fa35308"]]);var Ta=Pa;const Ga=e=>((0,u.Qi)("data-v-4fe8f678"),e=e(),(0,u.jt)(),e),Va=Ga((()=>(0,u.Lk)("div",{style:{"margin-top":"100px"}},null,-1))),Ha=Ga((()=>(0,u.Lk)("h2",null,"Admin Dashboard",-1))),Ba={key:0,class:"admin-dashboard"},Ma={class:"sidebar"},qa=["disabled"],$a=["disabled"],za=["disabled"],Ya=["disabled"],Za=["disabled"],el={class:"content"},al={key:0,class:"loading"},ll={key:1,class:"error-message"},tl={key:2,class:"list"},ul=Ga((()=>(0,u.Lk)("h2",null,"Teachers",-1))),ol={key:3,class:"list"},sl=Ga((()=>(0,u.Lk)("h2",null,"Users",-1))),nl={key:4,class:"list"},il=Ga((()=>(0,u.Lk)("h2",null,"Admins",-1))),rl={key:5,class:"courselist"},cl=Ga((()=>(0,u.Lk)("h2",null,"Courses",-1))),dl=["onClick"],vl={key:1},pl=Ga((()=>(0,u.Lk)("p",null,"Access denied. Please log in as an admin.",-1))),kl=[pl],ml={key:3,class:"add-course-panel-overlay"},yl={key:4,class:"activity-panel-overlay"};var hl={__name:"AdminDashboard",setup(e){const a=(0,L.rd)(),l=(0,k.KR)([]),t=(0,k.KR)([]),o=(0,k.KR)([]),s=(0,k.KR)([]),n=(0,k.KR)(null),i=(0,k.KR)(null),c=(0,k.KR)(""),d=(0,k.KR)(!1),v=(0,k.KR)(!1),y=(0,k.KR)(!1),h=(0,k.KR)(!1),b=async()=>{d.value=!0,c.value="";try{const e=await(0,r.GG)((0,r.rJ)(p,"teachers"));l.value=e.docs.map((e=>e.data()))}catch(e){c.value="Failed to fetch teachers"}finally{d.value=!1}},g=async()=>{d.value=!0,c.value="";try{const e=await(0,r.GG)((0,r.rJ)(p,"users"));t.value=e.docs.map((e=>e.data()))}catch(e){c.value="Failed to fetch users"}finally{d.value=!1}},C=async()=>{d.value=!0,c.value="";try{const e=await(0,r.GG)((0,r.rJ)(p,"admins"));o.value=e.docs.map((e=>e.data()))}catch(e){c.value="Failed to fetch admins"}finally{d.value=!1}},_=async()=>{d.value=!0,c.value="";try{const e=await(0,r.GG)((0,r.rJ)(p,"courses"));s.value=e.docs.map((e=>e.data())),v.value=!0}catch(e){c.value="Failed to fetch courses"}finally{d.value=!1}},X=async e=>{d.value=!0,c.value="";try{await b(),n.value=e,v.value=!0}catch(a){c.value="Failed to select course"}finally{d.value=!1}},E=()=>{v.value=!1,n.value=null},R=()=>{y.value=!0},A=()=>{y.value=!1},I=e=>{i.value=e,h.value=!0},w=()=>{h.value=!1,i.value=null};return"admin"!==m.userRole&&a.push("/"),(e,a)=>((0,u.uX)(),(0,u.CE)(u.FK,null,[Va,Ha,"admin"===(0,k.R1)(m).userRole?((0,u.uX)(),(0,u.CE)("div",Ba,[(0,u.Lk)("div",Ma,[(0,u.Lk)("button",{onClick:b,disabled:d.value,class:"button"},"Show Teachers",8,qa),(0,u.Lk)("button",{onClick:g,disabled:d.value,class:"button"},"Show Users",8,$a),(0,u.Lk)("button",{onClick:C,disabled:d.value,class:"button"},"Show Admins",8,za),(0,u.Lk)("button",{onClick:_,disabled:d.value,class:"button"},"Show Courses",8,Ya),(0,u.Lk)("button",{onClick:R,disabled:d.value,class:"addButton"},"Create New Course",8,Za)]),(0,u.Lk)("div",el,[d.value?((0,u.uX)(),(0,u.CE)("div",al,"Loading...")):(0,u.Q3)("",!0),c.value?((0,u.uX)(),(0,u.CE)("div",ll,(0,f.v_)(c.value),1)):(0,u.Q3)("",!0),l.value.length?((0,u.uX)(),(0,u.CE)("div",tl,[ul,(0,u.Lk)("ul",null,[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(l.value,(e=>((0,u.uX)(),(0,u.CE)("li",{key:e.uid},(0,f.v_)(e.name)+" - "+(0,f.v_)(e.email)+" - "+(0,f.v_)(e.teacherAccess),1)))),128))])])):(0,u.Q3)("",!0),t.value.length?((0,u.uX)(),(0,u.CE)("div",ol,[sl,(0,u.Lk)("ul",null,[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(t.value,(e=>((0,u.uX)(),(0,u.CE)("li",{key:e.uid},(0,f.v_)(e.name)+" - "+(0,f.v_)(e.email)+" - "+(0,f.v_)(e.courseId),1)))),128))])])):(0,u.Q3)("",!0),o.value.length?((0,u.uX)(),(0,u.CE)("div",nl,[il,(0,u.Lk)("ul",null,[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(o.value,(e=>((0,u.uX)(),(0,u.CE)("li",{key:e.uid},(0,f.v_)(e.name)+" - "+(0,f.v_)(e.email),1)))),128))])])):(0,u.Q3)("",!0),s.value.length?((0,u.uX)(),(0,u.CE)("div",rl,[cl,(0,u.Lk)("ul",null,[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(s.value,(e=>((0,u.uX)(),(0,u.CE)("li",{key:e.courseID,onClick:a=>X(e)},(0,f.v_)(e.courseName)+" - "+(0,f.v_)(e.duration),9,dl)))),128))])])):(0,u.Q3)("",!0)])])):((0,u.uX)(),(0,u.CE)("div",vl,kl)),v.value&&n.value?((0,u.uX)(),(0,u.Wv)(ka,{key:2,course:n.value,teachers:l.value,onClose:E,onSelectActivity:I},null,8,["course","teachers"])):(0,u.Q3)("",!0),y.value?((0,u.uX)(),(0,u.CE)("div",ml,[y.value?((0,u.uX)(),(0,u.Wv)(Da,{key:0,onClose:A})):(0,u.Q3)("",!0)])):(0,u.Q3)("",!0),h.value?((0,u.uX)(),(0,u.CE)("div",yl,[h.value?((0,u.uX)(),(0,u.Wv)(Ta,{key:0,activity:i.value,onClose:w},null,8,["activity"])):(0,u.Q3)("",!0)])):(0,u.Q3)("",!0)],64))}};const bl=(0,S.A)(hl,[["__scopeId","data-v-4fe8f678"]]);var gl=bl;const fl=(0,u.Lk)("div",{class:"container",style:{"margin-top":"100px"}},[(0,u.Lk)("h1",null,"Teacher Dashboard")],-1);function Ll(e,a,l,t,o,s){const n=(0,u.g2)("CoursePanel");return(0,u.uX)(),(0,u.CE)(u.FK,null,[fl,(0,u.bF)(n)],64)}var Cl={name:"TeacherDashboard",components:{CoursePanel:ka}};const _l=(0,S.A)(Cl,[["render",Ll]]);var Xl=_l;const El={class:"container",style:{"margin-top":"100px"}},Rl=(0,u.Lk)("h1",null,"User Dashboard",-1),Al=[Rl];function Il(e,a){return(0,u.uX)(),(0,u.CE)("div",El,Al)}const wl={},Kl=(0,S.A)(wl,[["render",Il]]);var Sl=Kl;const Dl={class:"about",style:{"margin-top":"100px"}},Ql=(0,u.Lk)("h2",null,[(0,u.eW)("404 : Stress Not Found"),(0,u.Lk)("br"),(0,u.eW)("It is Just Serene Peace Here ðŸ˜‡")],-1),Fl=[Ql];function xl(e,a){return(0,u.uX)(),(0,u.CE)("div",Dl,Fl)}const Ul={},Jl=(0,S.A)(Ul,[["render",xl]]);var Ol=Jl;const Wl=[{path:"/",name:"home",component:ue},{path:"/about",name:"about",component:de},{path:"/signup",name:"signup",component:Ae},{path:"/login",name:"login",component:Oe},{path:"/admin",name:"admin",component:gl,meta:{requiresAuth:!1}},{path:"/teacher",name:"teacher",component:Xl},{path:"/user",name:"user",component:Sl},{path:"/:catchAll(.*)*",name:"notFound",component:Ol}],Nl=(0,L.aE)({history:(0,L.LA)("/"),routes:Wl});Nl.beforeEach(((e,a,l)=>{const t=e.matched.some((e=>e.meta.requiresAuth)),u=m.isAuthenticated,o=m.userRole;!t||u&&"admin"===o?l():l("/")}));var jl=Nl;(0,t.Ef)(V).use(jl).mount("#app")}},a={};function l(t){var u=a[t];if(void 0!==u)return u.exports;var o=a[t]={exports:{}};return e[t].call(o.exports,o,o.exports,l),o.exports}l.m=e,function(){var e=[];l.O=function(a,t,u,o){if(!t){var s=1/0;for(c=0;c<e.length;c++){t=e[c][0],u=e[c][1],o=e[c][2];for(var n=!0,i=0;i<t.length;i++)(!1&o||s>=o)&&Object.keys(l.O).every((function(e){return l.O[e](t[i])}))?t.splice(i--,1):(n=!1,o<s&&(s=o));if(n){e.splice(c--,1);var r=u();void 0!==r&&(a=r)}}return a}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[t,u,o]}}(),function(){l.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(a,{a:a}),a}}(),function(){l.d=function(e,a){for(var t in a)l.o(a,t)&&!l.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){l.p="/"}(),function(){var e={524:0};l.O.j=function(a){return 0===e[a]};var a=function(a,t){var u,o,s=t[0],n=t[1],i=t[2],r=0;if(s.some((function(a){return 0!==e[a]}))){for(u in n)l.o(n,u)&&(l.m[u]=n[u]);if(i)var c=i(l)}for(a&&a(t);r<s.length;r++)o=s[r],l.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return l.O(c)},t=self["webpackChunkhappy3"]=self["webpackChunkhappy3"]||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))}();var t=l.O(void 0,[504],(function(){return l(2321)}));t=l.O(t)})();
//# sourceMappingURL=app.3be5c063.js.map